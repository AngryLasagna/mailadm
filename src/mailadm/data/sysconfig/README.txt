mailadm system integration files
================================

This README was generated by `mailadm {args}` and contains a
description of how you can get mailadm integrated with postfix,
dovecot, nginx and systemd. The instructions here have been tested
with an Ubuntu 16.04 and Debian 9 system. Other distributions or configurations
need adaptation.

Development of `mailadm` takes place on:

    https://github.com/deltachat/mailadm


Processes and permissions
-------------------------------------------

- systemd mailadm-web executes as user `{mailadm_user}`, serving
  the web interface which is exposed through nginx (see below)

- systemd mailadm-prune executes as group and user `{vmail_user}`
  and removes users along with their home directory

- the `{path_mailadm_db}` database is writeable by the group `{vmail_user}`


Integration with nginx
----------------------

You need to add the following directies to an enabled domain,
for example `{nginx_sites_enabled}/default`::

    # add these lines to domain file in `{nginx_sites_enabled}`
    location {web_path} {{
        proxy_pass http://localhost:{localhost_web_port}/
    }}

This makes nginx proxy external web requests to our `mailadm-web` service.

